#:include spiderWeb.kv

FloatLayout:
    Background:
        id: background
        canvas.before:
            Rectangle:
                size: self.size
                pos: self.pos
                source: "background.png"
            Rectangle:
                size: self.width, 131
                pos: self.pos[0], self.pos[1] + self.height - 131
                texture: self.cloud_texture
            Rectangle:
                size: self.width, 215
                pos: self.pos[0], self.pos[1]
                texture: self.city_texture
    Label:
        id: score
        size_hint_y: None
        height: 100
        text: "0"
        font_size: 40
    Button:
        size_hint: None, None
        size: 150, 100
        pos: (root.width / 2) - 75, (root.height / 2.0) - 50
        text: "Начать игру"
        background_normal: "blood_frame.png"
        background_down: "blood_frame.png"
        id: start_game_button
        disabled: False
        on_release:
            self.disabled = True
            self.opacity = 0
            app.start_game()
    Button:
        size_hint: None, None
        size: 150, 100
        pos: 50, 50
        text: "Об Игре"
        background_normal: "button_frame.png"
        background_down: "button_frame.png"
        id: about_game_button
        opacity: 1.0
        on_release:
            self.disabled = False
            self.opacity = 0
            # Делаем недоступными начало игры
            start_game_button.disabled = True
            # Показываем свиток с кнопкой назад и текст
            about_game.opacity = 1
            about_game_text1.opacity = 1
            about_game_text2.opacity = 1
            about_game_text3.opacity = 1
    BoxLayout:
        orientation: 'vertical'
        id: about_game
        size: root.size[0] - 500, root.size[1] - 500
        pos: 0, 0
        opacity: 0.0
        Button:
            text: "Назад"
            font_size: 40
            size_hint: 0.8, 0.3
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            background_normal: "transparent.png"
            background_down: "transparent.png"
            on_release:
                # Скрываем информацию
                about_game.opacity = 0
                about_game_text1.opacity = 0
                about_game_text2.opacity = 0
                about_game_text3.opacity = 0
                about_game.disabled = False
                about_game_button.opacity = 1
                # Включаем начало игры
                start_game_button.disabled = False
        Image:
            #text: "596181691"
            #font_size: 20
            #size_hint: 0.7, 1.5
            #pos_hint: {'center_x': 0.5, 'center_y': 1}
            #color: (255, 255, 255)
            source: "scroll.png"
            disabled: False
        Label:
            size_hint: 0.8, 0.5
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            text: ""
            font_size: 40
    Label:
        id: about_game_text1
        size_hint_y: None
        height: root.height + 250
        text: "Игра Flappy Ururu"
        font_size: 25
        color: (255, 255, 255)
        opacity: 0.0
    Label:
        id: about_game_text2
        size_hint_y: None
        height: root.height + 120
        text: "    Разработчик: Дракоша \n    Иллюстрации: Mr.Zapadlo \n    Задний фон: интернет"
        font_size: 20
        color: (255, 255, 255)
        opacity: 0.0
    Label:
        id: about_game_text3
        size_hint_y: None
        height: root.height - 70
        text: "    Вдохновитель: Ururu-chan \n    Поддержите Втубера"
        font_size: 20
        color: (255, 255, 255)
        opacity: 0.0
    Ururu:
        source: "ururu1.png"
        size_hint: None, None
        size: 50, 80
        pos: 20, root.height / 2.0
        id: ururu